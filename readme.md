# Описание
Клиентская часть приложения организации конференции по показу презентации. 
* С возможностью организатору 
    * создать комнату для проведения презентации, 
    * транслировать слайды презентации, видео и аудио со своей камеры участникам комнаты
    * переписываться в чате с участниками
* Участники могут
    * Присоеденится в комнату, где идет презентация
    * Смотреть слайды, видеть и слышать организатора
    * Переписываться в чате со всеми участниками 

Технологически цель организовать связь участников полностью с использованием технологии WebRTC. Включая: 
* просмотр презентации
* видео/аудио связь
* чат
Первоначально установка соединения WebRTC осуществляется с помощью сигнального сервера. В дальнейшем участники взаимодействуют только p2p.

Демо доступно по ссылке [demo](https://harebrownblogs.herokuapp.com/app/webrtc/build/). Самый простой способ открыть 2 или более вкладки в Google Chrome.

# Требования
* Выбор роли пользователя: собственик комнаты или участник
* Создание комнаты
* Загрузка презентации через сторонний ресурс
    * Первоначально с Google Slides API
* Организация обмена WebRTC пакетами (sdp, ice) для установки p2p соединений через сокеты с signaling service (https://github.com/ORusak/webrtc-presentation-conference-server)
* Отображение локальной и собеседника камеры
* Участники могут общатся по видео/аудио с собствеником только по запросу, по очереди
* Обмен сообщениями в чате
* Показ слайдов и указки для показа мест на слайде

# Доработки
На текущий момент реализована 
* Одна комната
* Нет возможности задать себе имя
* Автоматически определяется собственик, на основании кто первый зашел в комнату
* Нет работы с презентацией. Только статичная картинка.
* Камера участника передает сразу поток. Кто первый захватил тот показывается.
* Не обрабатываются исключительные ситуации в обрывах соединений для восстановления связи
* Стабильно работает в Google Chrome

# Реализация
## Технологии
* nodejs, webrtc

## Архитектура
* Связь участников по топологии звезда
* Центр собственник комнаты, который держит все подключения к нему
* Остальные участники подключаются к собственику
* Собственик может транслировать свою камеру всем участникам. Участники могут только переписываться с друг другом в чате.
* Выбранный участник может транслировать свою камеру собственику.
* Собственик передает слайды как файлы для отображения у участников и координаты указки
* Сообщения в чате участники отправляют собственику, который рассылает их всем участникам для синхронизации.

## Особенности 
* STUN сервер используется публичный: stun.services.mozilla.org

# Установка (доработать)
## Окружение
### nodejs
* LTS версия больше 8.9.1 
## Настройка проекта (локальная)
* Предварительно установите и запустите сигнальный сервер следуя инструкциям https://github.com/ORusak/webrtc-presentation-conference-server
* После склонируйте текущий репозиторий, установите зависимости
```
git clone https://github.com/ORusak/webrtc-presentation-conference-app
cd webrtc-presentation-conference-app
npm i
npm start
```
* Проект будет доступен по адресу http://localhost:3000/ и слушать сигнальный сервер http://localhost:8080/
